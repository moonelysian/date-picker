var c=Object.defineProperty;var D=(i,t,e)=>t in i?c(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var h=(i,t,e)=>(D(i,typeof t!="symbol"?t+"":t,e),e),o=(i,t,e)=>{if(!t.has(i))throw TypeError("Cannot "+e)},s=(i,t,e)=>(o(i,t,"read from private field"),e?e.call(i):t.get(i)),r=(i,t,e,n)=>(o(i,t,"write to private field"),n?n.call(i,e):t.set(i,e),e);var a;class DatePicker{constructor(){h(this,"monthData",["January","February","March","April","May","June","July","August","September","October","November","December"]);a.set(this,{data:"",date:0,month:0,year:0});h(this,"selectedDate",{data:"",date:0,month:0,year:0});h(this,"datePickerEl");h(this,"dateInputEl");h(this,"calendarEl");h(this,"calendarMonthEl");h(this,"monthContentEl");h(this,"nextBtnEl");h(this,"prevBtnEl");h(this,"calendarDatesEl");this.initCalendarDate(),this.initSelectedDate(),this.assignElement(),this.setDateInput(),this.addEvent()}initCalendarDate(){const t=new Date,e=t.getDate(),n=t.getMonth(),l=t.getFullYear();r(this,a,{data:t,date:e,month:n,year:l})}initSelectedDate(){this.selectedDate={...s(this,a)}}setDateInput(){this.dateInputEl.textContent=this.formatDate(this.selectedDate.data),this.dateInputEl.dataset.value=this.selectedDate.data}assignElement(){this.datePickerEl=document.getElementById("date-picker"),this.dateInputEl=this.datePickerEl.querySelector("#date-input"),this.calendarEl=this.datePickerEl.querySelector("#calendar"),this.calendarMonthEl=this.calendarEl.querySelector("#month"),this.monthContentEl=this.calendarMonthEl.querySelector("#content"),this.nextBtnEl=this.calendarMonthEl.querySelector("#next"),this.prevBtnEl=this.calendarMonthEl.querySelector("#prev"),this.calendarDatesEl=this.calendarEl.querySelector("#dates")}addEvent(){this.dateInputEl.addEventListener("click",this.toggleCalendar.bind(this)),this.nextBtnEl.addEventListener("click",this.moveToNextMonth.bind(this)),this.prevBtnEl.addEventListener("click",this.moveToPrevMonth.bind(this)),this.calendarDatesEl.addEventListener("click",this.onClickSelectDate.bind(this))}onClickSelectDate(t){const e=t.target,n=e.dataset.date;if(n){this.calendarDatesEl.querySelector(".selected")?.classList.remove("selected"),e.classList.add("selected");const{year:l,month:d}=s(this,a);this.selectedDate={data:new Date(l,d,e.dataset.date),year:l,month:d,date:n},this.setDateInput()}}formatDate(t){let e=t.getDate();e<10&&(e=`0${e}`);let n=t.getMonth()+1;return n<10&&(n=`0${n}`),`${t.getFullYear()}/${n}/${e}`}toggleCalendar(){this.calendarEl.classList.contains("active")&&r(this,a,{...this.selectedDate}),this.calendarEl.classList.toggle("active"),this.updateMonth(),this.updateDates()}updateMonth(){this.monthContentEl.textContent=`${s(this,a).year} ${this.monthData[s(this,a).month]}`}getFirstDayOfMonth(){return new Date(s(this,a).year,s(this,a).month,1).getDay()}updateDates(){this.calendarDatesEl.innerHTML="";const t=new Date(s(this,a).year,s(this,a).month+1,0).getDate(),e=new DocumentFragment;for(let n=0;n<t;n++){const l=document.createElement("div");l.classList.add("date"),l.textContent=n+1,l.dataset.date=n+1,e.appendChild(l)}e.firstChild.style.gridColumnStart=this.getFirstDayOfMonth()+1,this.calendarDatesEl.appendChild(e),this.colorSaturday(),this.colorSunday(),this.markToday(),this.markSelectedDate()}markToday(){const t=new Date,e=t.getMonth(),n=t.getFullYear(),l=t.getDate();n===s(this,a).year&&e==s(this,a).month&&this.calendarDatesEl.querySelector(`[data-date='${l}']`).classList.add("today")}markSelectedDate(){this.selectedDate.year===s(this,a).year&&this.selectedDate.month==s(this,a).month&&this.calendarDatesEl.querySelector(`[data-date='${this.selectedDate.date}']`).classList.add("selected")}colorSaturday(){const t=this.calendarDatesEl.querySelectorAll(`.date:nth-child(7n+${7-this.getFirstDayOfMonth()})`);for(let e=0;e<t.length;e++)t[e].style.color="blue"}colorSunday(){const t=this.calendarDatesEl.querySelectorAll(`.date:nth-child(7n+${(8-this.getFirstDayOfMonth())%7})`);for(let e=0;e<t.length;e++)t[e].style.color="red"}moveToNextMonth(){s(this,a).month+=1,s(this,a).month>this.monthData.length-1&&(s(this,a).month=0,s(this,a).year+=1),this.updateMonth(),this.updateDates()}moveToPrevMonth(){s(this,a).month-=1,s(this,a).month<0&&(s(this,a).month=this.monthData.length-1,s(this,a).year-=1),this.updateMonth(),this.updateDates()}}a=new WeakMap,new DatePicker;
